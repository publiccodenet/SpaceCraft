{"version":3,"file":"TabView.js","sourceRoot":"","sources":["../src/TabView.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,EAAE,EAAE,GAAG,EAAE,QAAQ,EAAE,cAAc,EAAE,UAAU,EAAuB,MAAM,QAAQ,CAAC;AAC5F,OAAO,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;AAC3E,OAAO,EAAE,OAAO,EAAgB,MAAM,cAAc,CAAC;AAG9C,IAAM,OAAO,GAAb,MAAM,OAAQ,SAAQ,OAAO;IAChC,MAAM,KAAK,KAAK;QACZ,OAAO,SAAS,CAAA;;;;;;;;;;;;;;;;;;;;;SAqBf,CAAC;IACN,CAAC;IAED,aAAa,CAAC,KAAmB;QAC7B,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC3B,IAAI,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,SAAS,EAAE,CAAC;YACrC,IAAI,CAAC,UAAU,CAAC,YAAY,CACxB,KAAK,CAAC,SAAS,GAAG,IAAI,EACtB,KAAK,CAAC,SAAS,GAAG,IAAI,CACzB,CAAC;QACN,CAAC;IACL,CAAC;IAED,gBAAgB,CAAC,KAAkB;QAC/B,MAAM,OAAO,GAAG,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC;QACpC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,aAAa;YAAE,OAAO;QACxD,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC;YAC/B,IAAI,EAAE,WAAW;YACjB,KAAK,EAAE,aAAa;YACpB,OAAO,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,iBAAiB,EAAE,IAAI,CAAC,UAAU,CAAC,kBAAkB,EAAE;SACpF,CAAC,CAAC,KAAK,CAAC,CAAC,GAAQ,EAAE,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,uCAAuC,EAAE,GAAG,CAAC,CAAC,CAAC;IACxF,CAAC;IAED,OAAO;QACH,MAAM,EAAE,GAAG,IAAI,CAAC,cAAc,EAAE,QAAQ,IAAI,iBAAiB,CAAC;QAC9D,IAAI,CAAC,MAAM,CAAC;YACR,GAAG,CAAC,EAAE,KAAK,EAAE,eAAe,EAAE,EAAE;gBAC5B,EAAE,CAAC,YAAY,CAAC;gBAChB,cAAc,CAAC,YAAY,CAAC;oBACxB,KAAK,EAAE,EAAE;oBACT,MAAM,EAAE,IAAI,UAAU,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC;oBACtD,cAAc,EAAE,CAAC,CAAc,EAAE,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;iBACxC,CAAC;aAC5B,CAAC;YACF,EAAE,CAAC,8BAA8B,CAAC;SACrC,CAAC,CAAC;IACP,CAAC;CACJ,CAAA;AA5DY,OAAO;IADnB,QAAQ;GACI,OAAO,CA4DnB;;AAED,MAAM,CAAC,MAAM,OAAO,GAAG,UAAS,IAAkB;IAC9C,OAAO,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;AACtC,CAAC,CAAC","sourcesContent":["import { h2, div, Register, IoOptionSelect, MenuOption, IoOptionSelectProps } from 'io-gui';\nimport { VIEW_MODE_OPTIONS, DEFAULT_VIEW_MODE } from './types/ViewMode.js';\nimport { TabBase, TabBaseProps } from './TabBase.js';\n\n@Register\nexport class TabView extends TabBase {\n    static get Style() {\n        return /* css */`\n            :host {\n                display: flex;\n                flex-direction: column;\n                align-items: stretch;\n            }\n            :host > h2 {\n                pointer-events: none;\n                user-select: none;\n                -webkit-user-select: none;\n                -moz-user-select: none;\n                -ms-user-select: none;\n                margin: 0 0 6px 0;\n            }\n            :host .view-controls {\n                align-self: flex-end;\n                display: flex;\n                align-items: center;\n                gap: 8px;\n                margin: 6px 8px 6px 8px;\n            }\n        `;\n    }\n\n    onPointermove(event: PointerEvent) {\n        super.onPointermove(event);\n        if (event.movementX || event.movementY) {\n            this.controller.sendPanEvent(\n                event.movementX * 0.03,\n                event.movementY * 0.03\n            );\n        }\n    }\n\n    onViewModeChange(event: CustomEvent) {\n        const newMode = event.detail?.value;\n        if (!newMode || !this.controller?.clientChannel) return;\n        this.controller.clientChannel.send({\n            type: 'broadcast',\n            event: 'setViewMode',\n            payload: { mode: newMode, targetSimulatorId: this.controller.currentSimulatorId }\n        }).catch((err: any) => console.error('[Controller] setViewMode send failed:', err));\n    }\n\n    changed() {\n        const vm = this.simulatorState?.viewMode || DEFAULT_VIEW_MODE;\n        this.render([\n            div({ class: 'view-controls' }, [\n                h2('View Mode:'),\n                IoOptionSelect.vConstructor({\n                    value: vm,\n                    option: new MenuOption({ options: VIEW_MODE_OPTIONS }),\n                    '@value-input': (e: CustomEvent) => this.onViewModeChange(e)\n                } as IoOptionSelectProps),\n            ]),\n            h2('DRAG to pan â€¢ SCROLL to zoom'),\n        ]);\n    }\n}\n\nexport const tabView = function(arg0: TabBaseProps) {\n    return TabView.vConstructor(arg0);\n};\n"]}