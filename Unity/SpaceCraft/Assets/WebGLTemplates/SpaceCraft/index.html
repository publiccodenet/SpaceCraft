<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Spacecraft in Unity</title>
    <link rel="icon" href="https://brand.publiccode.net/logo/mark-128w128h.png">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <style>
      body {
        font-family: "Mulish", Helvetica;
        padding: 0;
        border: 0;
        margin: 0;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
      }
      
      /* Ensure QR codes are above everything and clickable */
      #qrcodes-container {
        position: fixed;
        top: 10px;
        right: 10px;
        z-index: 9999; /* Very high z-index to be above everything */
        width: 120px;
        max-width: 120px;
        text-align: center;
        pointer-events: auto; /* Explicitly enable pointer events */
        cursor: pointer;
      }
      
      /* Basic QR code styling */
      .qrcode {
        display: block;
        width: 100px;
        height: 100px;
        margin: 5px auto;
        opacity: 0.7;
        transition: opacity 0.3s;
        cursor: pointer; /* Show clickable cursor */
      }
      
      .qrcode:hover {
        opacity: 1;
      }
      
      /* Labels */
      .label {
        color: white;
        font-size: 12px;
        margin: 0 auto 15px auto;
        width: 100px;
        text-align: center;
        cursor: pointer; /* Show clickable cursor */
      }
      
      /* Links */
      a {
        display: block;
        text-decoration: none;
        cursor: pointer; /* Show clickable cursor */
      }
    </style>
    
    <!-- Load core Bridge scripts -->
    <script type="text/javascript" src="StreamingAssets/Bridge/unity.js"></script>
    <script type="text/javascript" src="StreamingAssets/Bridge/bridge.js"></script>
    
    <!-- Load SpaceCraft specific scripts -->
    <script type="text/javascript" src="StreamingAssets/SpaceCraft/qrcode.min.js"></script>
    <script type="text/javascript" src="StreamingAssets/SpaceCraft/spacecraft.js"></script>
</head>

<body>
    <!-- Canvas must come BEFORE the QR codes in the DOM to avoid z-index issues -->
    <canvas id="unity-canvas" width=960 height=600 tabindex="-1" style="width: 100%; height: 100%; position: fixed; top: 0; left: 0; background: #1F1F20; z-index: 1;"></canvas>
    
    <!-- QR codes container with explicit high z-index -->
    <div id="qrcodes-container">
      <!-- Navigator QR code - Simplified direct HTML -->
      <a href="StreamingAssets/SpaceCraft/navigator.html" target="_blank">
        <svg id="navigator" class="qrcode"></svg>
        <div class="label">navigator</div>
      </a>
      
      <!-- Selector QR code - Simplified direct HTML -->
      <a href="StreamingAssets/SpaceCraft/selector.html" target="_blank">
        <svg id="selector" class="qrcode"></svg>
        <div class="label">selector</div>
      </a>
    </div>
    
    <script src="Build/SpaceCraft.loader.js"></script>

    <script>
      // Initialize SpaceCraft when page loads
      window.addEventListener('load', function() {
        console.log("Calling SpaceCraft.initialize()...");
        SpaceCraft.initialize();
      });
    </script>
  </body>

</html>
